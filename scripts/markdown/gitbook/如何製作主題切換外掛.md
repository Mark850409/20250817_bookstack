---
title: 如何製作主題切換外掛
updated: 2024-07-25 01:39:52Z
created: 2024-07-23 13:33:21Z
latitude: 25.0329694
longitude: 121.5654177
altitude: 0
tags:
  - NPM
  - Theme
---

# 1. 如何製作主題切換外掛

## 1.1. 簡介

可以`隨心所欲`切換`黑暗`、`亮色`主題，甚至`更多樣式`的`主題`

## 1.2. 專案架構

```
pushpublicnpm
├─ .gitignore
├─ .npmignore
├─ .npmrc
├─ index.js
├─ LICENSE
├─ logo.png
├─ package.json
├─ README.md
├─ _assets
│  ├─ fexa.css
│  ├─ fexa.js
│  └─ logo.png
└─ _layouts
   └─ website
      └─ page.html
```

## 1.3. 目錄

- [1. 如何製作主題切換外掛](#1-如何製作主題切換外掛)
  - [1.1. 簡介](#11-簡介)
  - [1.2. 專案架構](#12-專案架構)
  - [1.3. 目錄](#13-目錄)
    - [1.3.1. 事前準備](#131-事前準備)
    - [1.3.2. 操作步驟](#132-操作步驟)
    - [1.3.3. 完成結果](#133-完成結果)


### 1.3.1. 事前準備

請先到gitlab `Fork`這個專案到自己的本機目錄

https://markweb.idv.tw:10443/gitbooknpmproject/gitbooknpmcustomtheme

<!--more-->

### 1.3.2. 操作步驟

> [!note] 小提示
> css樣式自訂建議使用變數的方式，這樣未來做專案維護比較方便，不用手動修改每個地方的顏色喔!!!


請在`_assert`目錄下撰寫`material-dark-theme.css`
```css
/* Import Google Fonts */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Quicksand:wght@300..700&display=swap");
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');

/* 定義顏色變數 */
:root {
    --bg-color: #333; /* 背景色 */
    --text-color: #ccc; /* 文字色 */
    --link-color: #337ab7; /* 連結顏色 */
    --title-color-1:#337ab7; /* 標題1顏色 */
    --title-color-2:#03dac6; /* 標題2顏色 */
    --title-color-3:#ff79c6; /* 標題3顏色 */
    --table-bg: #1f1f1f; /* 表格背景色 */
    --table-text: #e0e0e0; /* 表格文字色 */
    --scroll-thumb: #337ab7; /* 滾動條滑塊顏色 */
    --scroll-track: #333; /* 滾動條軌道顏色 */
    --btn-bg: #333; /* 按鈕背景色 */
    --btn-text: #e0e0e0; /* 按鈕文字色 */
    --btn-hover-bg: #337ab7; /* 按鈕hover背景色 */
    --btn-hover-text: #333; /* 按鈕hover文字色 */
    --note-border-color: #ccc; /* 提示框顏色 */
    --note-default-color: #ff5722; /* 提示框Default顏色 */
    --note-primary-color: #d5a0f0; /* 提示框Primary顏色 */
    --note-info-color: #80deea; /* 提示框Info顏色 */
    --note-success-color: #69f0ae; /* 提示框Success顏色 */
    --note-warning-color: #ffd740; /* 提示框Warning顏色 */
    --note-danger-color: #ff5252; /* 提示框Danger顏色 */
    --note-tip-color: #cddc39; /* 提示框Tip顏色 */
    --btn-bg-hover: #e0f7fa;/* 按鈕滑過背景色 */
    --btn-text-hover: #333;/* 按鈕滑過文字色 */
    --btn-icon-color: #ffffff;/* 按鈕icon顏色 */
    --highlight-color: #337AB7; /* 強調文字顏色 */
    --summary-text-color: #ccc;/* 右側目錄文字色 */
    --summary-book-list-color: #e0e0e0;    /* 預設的文字顏色 */
    --pre-color: #c5c8c6;  /* 文字陰影效果 */
    --pre-text-shadow: 0 1px rgba(0, 0, 0, 0.3);  /* 代碼區塊的字型設定 */
    --pre-font-family: Inconsolata, Monaco, Consolas, 'Courier New', Courier, monospace;  /* 代碼區塊的背景色 */
    --pre-background: #1d1f21;  /* 註解、前言、文檔類型及 CDATA 的顏色 */
    --pre-comment-color: #7C7C7C;  /* 標點符號的顏色 */
    --pre-punctuation-color: #c5c8c6;  /* 屬性、關鍵字及標籤的顏色 */
    --pre-property-color: #96CBFE;  /* 類別名稱的顏色 */
    --pre-class-name-color: #FFFFB6;  /* 類別名稱的裝飾樣式 */
    --pre-class-name-decoration: underline;  /* 布林值和常數的顏色 */
    --pre-boolean-color: #99CC99;  /* 符號和刪除標記的顏色 */
    --pre-symbol-color: #f92672;  /* 數字的顏色 */
    --pre-number-color: #FF73FD;  /* 字串的顏色 */
    --pre-string-color: #A8FF60;  /* 變數的顏色 */
    --pre-variable-color: #C6C5FE;  /* 運算符的顏色 */
    --pre-operator-color: #EDEDED;  /* 實體的顏色 */
    --pre-entity-color: #FFFFB6;  /* 實體的游標樣式 */
    --pre-entity-cursor: help;  /* URL 的顏色 */
    --pre-url-color: #96CBFE;  /* CSS 字串的顏色 */
    --pre-css-string-color: #87C38A;  /* @規則和屬性值的顏色 */
    --pre-atrule-color: #F9EE98;  /* 函數的顏色 */
    --pre-function-color: #DAD085;  /* 正則表達式的顏色 */
    --pre-regex-color: #E9C062;  /* 重要標記的顏色 */
    --pre-important-color: #fd971f;  /* 粗體字型的樣式 */
    --pre-bold-weight: bold;
    --markdown-bg-color:#f7f7f7;
    --markdown-text-color:#337ab7;
}

/* 將Google字型套用到body */
body {
    font-family: "Roboto", "Noto Sans TC", sans-serif;
    font-optical-sizing: auto;
    font-weight: 400;
    font-style: normal;
    font-size: 14px;
    background-color: var(--bg-color);
    color: var(--text-color);
}

/* 筆記標題列顏色 */
h1 {
    color: var(--title-color-1);
}

h2 {
    color: var(--title-color-2);
}

h3 {
    color: var(--title-color-3);
}

/* 連結顏色 */
a {
    color: var(--link-color);
}

p {
    color: var(--text-color) !important;
}

.title {
    display: block !important;
    text-align: center;
}

.header-inner .title {
    color: var(--text-color) !important;
}

.header-inner .header-nav li a {
    color: var(--text-color);
}

/* 連結 */
a.anchorjs-link {
    padding-left: 0em !important;
    color: var(--link-color); /* 連結顏色 */
}

ul {
    color: var(--btn-text); /* 文字色 */
}

/* 主體區塊樣式 */
.md-content {
    margin: 0 auto;
}

/* 標籤和按鈕 */
button {
    background-color: var(--bg-color);
    color: var(--btn-text); /* 文字色 */
}

button:hover {
    background-color: var(--link-color);
    color: var(--bg-color);
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    background: transparent !important;
}

/* 最下方導覽選單樣式 */
.navbar-nav {
    border: 1px solid var(--bg-color);
    border-radius: 5px;
    border-style: dashed;
    padding: 30px;
    margin: 20px;
    justify-content: space-between;
    align-items: center;
    display: flex;
    background-color: var(--btn-bg); /* 背景色 */
    color: var(--btn-text); /* 文字色 */
}

.flex-container {
    display: flex;
}

.icon {
    padding-right: 10px;
}

/* 表格樣式 */
table {
    width: 100%;
    table-layout: fixed;
    border: none;
    background-color: var(--table-bg);
    color: var(--table-text);
}

table td {
    width: auto;
    padding: 10px;
}

table tr:hover {
    background: var(--bg-color);
}

table td:hover {
    background: var(--bg-color);
}

.markdown-section table {
    overflow: hidden;
    overflow-x: auto;
    margin-top: 30px;
}

.markdown-section code {
    color: var(--markdown-text-color) !important;
}

.markdown-section table td,
.markdown-section table th {
    background: var(--bg-color) !important;
}

/* 设置横向滚动条的宽度、颜色和样式 */
.markdown-section table::-webkit-scrollbar {
    height: 8px;
}

/* 设置横向滑块的样式 */
.markdown-section table::-webkit-scrollbar-thumb {
    background-color: var(--link-color); /* 滑块背景色 */
    border-radius: 6px;
}

/* 设置横向轨道的样式 */
.markdown-section table::-webkit-scrollbar-track {
    background-color: var(--bg-color);
}

.tags-list a,
.categories-list a {
    color: var(--text-color) !important;
}

/* 卷軸樣式 */

/* 设置滚动条的宽度、颜色和样式 */::-webkit-scrollbar {
    width: 10px;
}

/* 设置滑块的样式 */
::-webkit-scrollbar-thumb {
    background-color: var(--link-color); /* 滑块背景色 */
    border-radius: 6px;
}

/* 设置轨道的样式 */
::-webkit-scrollbar-track {
    background-color: var(--bg-color);
}

/* 设置横向滚动条的宽度、颜色和样式 */
::-webkit-scrollbar-horizontal {
    height: 5px;
}

/* 设置横向滑块的样式 */
::-webkit-scrollbar-thumb:horizontal {
    background-color: var(--link-color); /* 滑块背景色 */
    border-radius: 6px;
}

/* 设置横向轨道的样式 */
::-webkit-scrollbar-track:horizontal {
    background-color: var(--bg-color);
}

/* 回到最上方按鈕樣式 */
.back-to-top {
    background: var(--link-color); /* 背景色 */
}

.back-to-top:hover {
    border: 1px solid var(--link-color);
    background: transparent;
    color: var(--link-color);
    cursor: pointer;
    transition: all 0.3s;
}

.back-to-top i:hover {
    border: 1px solid var(--link-color);
    color: var(--link-color);
    background: transparent;
    cursor: pointer;
    transition: all 0.3s;
}

/* 右邊目錄樣式 */
.book-anchor {
    width: 230px;
    border-left: none;
}

.book-anchor-title {
    line-height: 38px;
    font-weight: 400;
    cursor: pointer;
    border-bottom: 1px solid var(--bg-color);
    margin-bottom: 10px;
    color: var(--btn-text); /* 文字色 */
}

/* 左邊目錄樣式 */
.book-summary ul.summary li.active {
    border-radius: 8px;
    transition: all 0.3s;
    border: none;
    background: var(--summary-book-list-color) !important;
}

.book-summary ul.summary li:hover {
    color: var(--link-color) !important;
    cursor: pointer;
    transition: all 0.3s;
}

.book-summary ul.summary li a:hover {
    color: var(--link-color) !important;
    cursor: pointer;
    transition: all 0.3s;
}

.book-summary ul.summary li.active>a {
    color: var(--link-color) !important;
    text-decoration: none;
    transition: all 0.3s;
    border-left: 3px solid;
}

.book-summary ul.summary li a,
.book-summary ul.summary li span {
    color: var(--text-color) !important;
}

.book-anchor .selected {
    color: var(--link-color) !important;
    text-decoration: none;
    font-weight: bold;
}

.book-anchor a {
    color: var(--summary-text-color) !important;
}

.book-anchor a:hover {
    color: var(--link-color) !important;
    text-decoration: none;
}

.book-summary .read-indicator {
    display: inline-block;
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    border-radius: 50%;
    background: var(--bg-color) !important;
    color: var(--text-color) !important;
    font-size: 12px;
    font-weight: bold;
    margin-right: 5px;
    vertical-align: middle;
}

.book-summary {
    background: var(--bg-color) !important;
    color: var(--text-color) !important;
}

.book-summary .read-indicator:before {
    content: "✓";
}

.book-header {
    background: var(--bg-color) !important;
}

.book-body {
    background: var(--bg-color) !important;
}

.header-inner #book-search-input {
    float: right;
    width: 300px;
    margin: 10px 0;
    padding: 0;
    border: 1px solid #e0e0e0;
    background: var(--bg-color) !important;
    color: #e0e0e0 !important; /* 文字色 */
    user-select: none;
}

.header-inner .header-nav li a.active {
    color: var(--link-color);
}

.header-inner .header-nav li a:hover {
    border: 1px solid var(--link-color);
    border-radius: 8px;
    color: var(--link-color);
    cursor: pointer;
    padding: 8px 12px;
    transition: all 0.3s;
    text-decoration: none;
}

.code-filename {
    background-color: rgba(255, 255, 255, 0.07);
    display: inline-block;
    padding: 2px 8px;
    font-size: small;
    line-height: inherit;
    margin-bottom: 0 !important;
    border-radius: 5px 5px 0 0;
    color: var(--btn-text); /* 文字色 */
}

.page-wrapper {
    background: var(--bg-color) !important;
}

code[class*="language-"],
pre[class*="language-"] {
    text-shadow: none !important;
}

:not(pre) > code[class*="language-"],pre[class*="language-"] {
    background: var(--bg-color) !important;
}

/* 切換主題按鈕樣式 */
#theme-toggle {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px;  /* 可以根據需要調整按鈕的寬度 */
    height: 50px;  /* 可以根據需要調整按鈕的高度 */
    cursor: pointer;
    bottom: 20px;
    left: 310px !important;
    text-decoration: none;
    background-color: var(--highlight-color) !important;
    color: var(--btn-icon-color) !important;
    border: 1px solid var(--text-color);
    padding: 10px 20px;
    cursor: pointer;
    font-size: 24px;
    -webkit-border-radius: 35px;
    -moz-border-radius: 35px;
    border-radius: 35px;
}

#theme-toggle i {
    font-size: 20px;  /* 可以根據需要調整icon的大小 */
    color: var(--btn-icon-color);  /* 根據需要調整icon的顏色 */
}

#theme-toggle:hover {
    background-color: var(--btn-bg-hover) !important;
    color: var(--text-color) !important;
}

/* 標籤、分類樣式 */
.tags-list a,
.categories-list a {
    background-color: var(--bg-color) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--text-color);
}

.tags-list a:hover,
.categories-list a:hover {
    background-color: var(--btn-bg-hover) !important;
    color: var(--btn-text-hover) !important;
    text-decoration: none;
}

.fa-tags,
.fa-folder-open {
    color: var(--text-color) !important;
}

/* gittalk留言版樣式 */
.gt-container .gt-comment-content {
    background-color: var(--bg-color) !important;
}

.gt-container .gt-comment-content:hover {
    box-shadow: none !important;
}

.gt-container .gt-user {
    color: var(--text-color) !important;
}

.gt-container .gt-counts {
    color: var(--text-color) !important;
}

/**
 * 提示區塊樣式
 */
.markdown-section p {
    margin-top: revert;
}

.markdown-section ol,
.markdown-section ul {
    color: var(--text-color) !important;
}

.note {
    padding: 1em;
    margin-bottom: 1em;
}

.note.default h1,
.note.default h2,
.note.default h3,
.note.default h4,
.note.default h5,
.note.default h6 {
    color: var(--note-default-color); /* 提示顏色 */
    text-align: center;
}

.note.default {
    background-color: #1e1e1e;
    border-left-color: var(--note-default-color);
    border-left: .25rem solid var(--note-default-color);
    border-radius: 3px;
    color: var(--note-default-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.primary h1,
.note.primary h2,
.note.primary h3,
.note.primary h4,
.note.primary h5,
.note.primary h6 {
    color: var(--note-primary-color); /* 提示顏色 */
    text-align: center;
}

.note.primary {
    background-color: #1e1e1e;
    border-left-color: var(--note-primary-color);
    border-left: .25rem solid var(--note-primary-color);
    border-radius: 3px;
    color: var(--note-primary-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.info h1,
.note.info h2,
.note.info h3,
.note.info h4,
.note.info h5,
.note.info h6 {
    color: var(--note-info-color); /* 提示顏色 */
    text-align: center;
}

.note.info {
    background-color: #1e1e1e;
    border-left-color: var(--note-info-color);
    border-left: .25rem solid var(--note-info-color);
    border-radius: 3px;
    color: var(--note-info-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.success h1,
.note.success h2,
.note.success h3,
.note.success h4,
.note.success h5,
.note.success h6 {
    color: var(--note-success-color); /* 提示顏色 */
    text-align: center;
}

.note.success {
    background-color: #1e1e1e;
    border-left-color: var(--note-success-color);
    border-left: .25rem solid var(--note-success-color);
    border-radius: 3px;
    color: var(--note-success-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.warning h1,
.note.warning h2,
.note.warning h3,
.note.warning h4,
.note.warning h5,
.note.warning h6 {
    color: #ffd740; /* 提示顏色 */
    text-align: center;
}

.note.warning {
    background-color: #1e1e1e;
    border-left-color: var(--note-warning-color);
    border-left: .25rem solid var(--note-warning-color);
    border-radius: 3px;
    color: var(--note-warning-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.danger h1,
.note.danger h2,
.note.danger h3,
.note.danger h4,
.note.danger h5,
.note.danger h6 {
    color: #ff5252; /* 提示顏色 */
    text-align: center;
}

.note.danger {
    background-color: #1e1e1e;
    border-left-color: var(--note-danger-color);
    border-left: .25rem solid var(--note-danger-color);
    border-radius: 3px;
    color: var(--note-danger-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.tip h1,
.note.tip h2,
.note.tip h3,
.note.tip h4,
.note.tip h5,
.note.tip h6 {
    color: var(--note-tip-color); /* 提示顏色 */
    text-align: center;
}

.note.tip {
    background-color: #1e1e1e;
    border-left-color: var(--note-tip-color);
    border-left: .25rem solid var(--note-tip-color);
    border-radius: 3px;
    color: var(--note-tip-color);
    padding: 10px 12px;
    margin: 12px 0;
}

/**
 * 代碼樣式
 */

/* 設定代碼和預格式化文本的樣式 */
code[class*="language-"],
pre[class*="language-"] {
    color: var(--pre-color); /* 文字顏色 */
    text-shadow: var(--pre-text-shadow); /* 文字陰影 */
    font-family: var(--pre-font-family); /* 字型 */
    font-size: 1.2em;/* 大小 */
    direction: ltr; /* 文字方向 */
    text-align: left; /* 文字對齊 */
    white-space: pre; /* 保持空白 */
    word-spacing: normal; /* 單詞間距 */
    word-break: normal; /* 單詞斷行 */
    line-height: 1.5; /* 行高 */
    -moz-tab-size: 4; /* Firefox 的制表符大小 */
    -o-tab-size: 4; /* Opera 的制表符大小 */
    tab-size: 4; /* 標準的制表符大小 */
    -webkit-hyphens: none; /* 禁用 hyphenation */
    -moz-hyphens: none; /* 禁用 hyphenation */
    -ms-hyphens: none; /* 禁用 hyphenation */
    hyphens: none; /* 禁用 hyphenation */
}

/* 設定預格式化文本的額外樣式 */
pre[class*="language-"] {
    padding: 1em; /* 內邊距 */
    margin: .5em 0; /* 外邊距 */
    overflow: auto; /* 溢出時顯示滾動條 */
    border-radius: 0.3em; /* 圓角邊框 */
}

/* 設定代碼背景色 */
:not(pre) > code[class*="language-"],pre[class*="language-"] {
    background: var(--pre-background) !important; /* 背景色 */
}

/* 設定內聯代碼的樣式 */
:not(pre) > code[class*="language-"] {
    padding: .1em; /* 內邊距 */
    border-radius: .3em; /* 圓角 */
}

/* 設定註解和文檔類型的顏色 */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: var(--pre-comment-color) !important; /* 註解顏色 */
}

/* 設定標點符號的顏色 */
.token.punctuation {
    color: var(--pre-punctuation-color) !important; /* 標點符號顏色 */
}

/* 設定命名空間的透明度 */
.namespace {
    opacity: .7; /* 透明度 */
}

/* 設定屬性、關鍵字和標籤的顏色 */
.token.property,
.token.keyword,
.token.tag {
    color: var(--pre-property-color) !important; /* 屬性顏色 */
}

/* 設定類別名稱的顏色和裝飾 */
.token.class-name {
    color: var(--pre-class-name-color) !important; /* 類別名稱顏色 */
    text-decoration: var(--pre-class-name-decoration); /* 類別名稱裝飾 */
}

/* 設定布林值和常數的顏色 */
.token.boolean,
.token.constant {
    color: var(--pre-boolean-color) !important; /* 布林值和常數顏色 */
}

/* 設定符號和刪除標記的顏色 */
.token.symbol,
.token.deleted {
    color: var(--pre-symbol-color) !important; /* 符號顏色 */
}

/* 設定數字的顏色 */
.token.number {
    color: var(--pre-number-color) !important; /* 數字顏色 */
}

/* 設定選擇器、屬性名稱、字串等的顏色 */
.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: var(--pre-string-color) !important; /* 字串顏色 */
}

/* 設定變數的顏色 */
.token.variable {
    color: var(--pre-variable-color) !important; /* 變數顏色 */
}

/* 設定運算符的顏色 */
.token.operator {
    color: var(--pre-operator-color) !important; /* 運算符顏色 */
}

/* 設定實體的顏色和游標樣式 */
.token.entity {
    color: var(--pre-entity-color) !important; /* 實體顏色 */
    cursor: var(--pre-entity-cursor); /* 游標樣式 */
}

/* 設定 URL 的顏色 */
.token.url {
    color: var(--pre-url-color) !important; /* URL 顏色 */
}

/* 設定 CSS 字串的顏色 */
.language-css .token.string,
.style .token.string {
    color: var(--pre-css-string-color) !important; /* CSS 字串顏色 */
}

/* 設定 @規則和屬性值的顏色 */
.token.atrule,
.token.attr-value {
    color: var(--pre-atrule-color) !important; /* @規則和屬性值顏色 */
}

/* 設定函數的顏色 */
.token.function {
    color: var(--pre-function-color) !important; /* 函數顏色 */
}

/* 設定正則表達式的顏色 */
.token.regex {
    color: var(--pre-regex-color) !important; /* 正則表達式顏色 */
}

/* 設定重要標記的顏色 */
.token.important {
    color: var(--pre-important-color) !important; /* 重要標記顏色 */
}

/* 設定重要標記和粗體的字型樣式 */
.token.important,
.token.bold {
    font-weight: var(--pre-bold-weight) !important; /* 粗體樣式 */
}

/* 設定斜體的字型樣式 */
.token.italic {
    font-style: italic; /* 斜體樣式 */
}


```


請在`_assert`目錄下撰寫`material-light-theme.css`

```css

:root {

    /* 定義顏色參數 */
    --bg-color: #f1f1f1; /* 背景色 */
    --text-color: #1a5182; /* 文字色 */
    --title-color-1:#0f4c75; /* 標題顏色 */
    --title-color-2:#ff6f61; /* 標題顏色 */
    --scrollbar-thumb-bg: #0f4c75; /* 滑塊背景色 */
    --scrollbar-track-bg: #f1f1f1; /* 滑軌背景色 */
    --link-color: #0f4c75; /* 連結顏色 */
    --search-input-border: #1a5182; /* 搜索框邊框顏色 */
    --search-input-bg: #333; /* 搜索框背景色 */
    --search-input-text: #ccc; /* 搜索框文字色 */
    --quote-border: #0f4c75; /* 引言框邊框顏色 */
    --quote-bg: #f1f1f1; /* 引言框背景色 */
    --highlight-color: #0f4c75; /* 強調文字顏色 */
    --btn-bg-color: #1a5182;/* 按鈕滑過背景色 */
    --btn-bg-hover: #e0f7fa;/* 按鈕滑過背景色 */
    --btn-text-hover: #333;/* 按鈕滑過文字色 */
    --btn-icon-color: #ffffff;/* 按鈕icon顏色 */
    --summary-text-color: #333;/* 右側目錄文字色 */
    --summary-book-list-color: #c8e6c9;/* 左側目錄選單色 */
    --note-border-color: #ccc; /* 提示框顏色 */
    --note-default-color: #ff5722; /* 提示框Default顏色 */
    --note-primary-color: #d5a0f0; /* 提示框Primary顏色 */
    --note-info-color: #80deea; /* 提示框Info顏色 */
    --note-success-color: #69f0ae; /* 提示框Success顏色 */
    --note-warning-color: #ffd740; /* 提示框Warning顏色 */
    --note-danger-color: #ff5252; /* 提示框Danger顏色 */
    --note-tip-color: #cddc39; /* 提示框Tip顏色 */
    --note-bg-color: #f1f1f1; /* 提示框背景色 */
}

/* Import Google Fonts */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Quicksand:wght@300..700&display=swap");
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');

/* Apply Google Fonts to body */
body {
    font-family: "Roboto", "Noto Sans TC", sans-serif;
    font-optical-sizing: auto;
    font-weight: 400;
    font-style: normal;
    font-size: 14px;
    background-color: var(--bg-color); /* 背景色 */
    color: var(--text-color); /* 文字色 */
}

/* 筆記標題列顏色 */
h1 {
    color: var(--title-color-1); /* 標題顏色 */
}

h2 {
    color: var(--title-color-2); /* 標題顏色 */
}

h3 {
    color: var(--bg-color); /* 標題顏色 */
}

p {
    color: var(--text-color) !important; /* 文字色 */
}

.title {
    display: block !important;
    text-align: center;
}

.header-inner .title {
    color: var(--text-color) !important; /* 文字色 */
}

.header-inner .header-nav li a {
    color: var(--text-color); /* 文字色 */
}

/* 連結 */
a.anchorjs-link {
    padding-left: 0em !important;
    color: var(--link-color); /* 連結顏色 */
}

/* 最下方導覽選單樣式 */
.navbar-nav {
    border: 1px solid var(--bg-color); /* 背景色 */
    border-radius: 5px;
    border-style: dashed;
    padding: 30px;
    margin: 20px;
    justify-content: space-between;
    align-items: center;
    display: flex;
    background-color: var(--bg-color); /* 背景色 */
    color: var(--text-color); /* 文字色 */
}

.flex-container {
    display: flex;
}

.icon {
    padding-right: 10px;
}

/* 表格樣式 */
table {
    width: 100%;
    table-layout: fixed;
    border: none;
    background-color: var(--bg-color); /* 背景色 */
    color: var(--text-color); /* 文字色 */
}

table td {
    width: auto;
    padding: 10px;
}

table tr:hover {
    background: var(--bg-color); /* 背景色 */
}

table td:hover {
    background: var(--bg-color); /* 背景色 */
}

.markdown-section table {
    overflow: hidden;
    overflow-x: auto;
    margin-top: 30px;
}

.markdown-section table td,
.markdown-section table th {
    background: var(--bg-color) !important; /* 背景色 */
}

.markdown-section code {
    color: var(--text-color) !important;
}

.markdown-section ol,
.markdown-section ul {
    color: var(--markdown-setcion-text-color) !important;
}

/* 卷軸樣式 */

/* 設置滾動條的寬度、顏色和樣式 */::-webkit-scrollbar {
    width: 10px;
}

/* 設置滑塊的樣式 */
::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    border-radius: 6px;
}

/* 設置軌道的樣式 */
::-webkit-scrollbar-track {
    background-color: var(--scrollbar-track-bg); /* 滑軌背景色 */
}

/* 設置橫向滾動條的寬度、顏色和樣式 */
::-webkit-scrollbar-horizontal {
    height: 5px;
}

/* 設置橫向滑塊的樣式 */
::-webkit-scrollbar-thumb:horizontal {
    background-color: var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    border-radius: 6px;
}

/* 設置橫向軌道的樣式 */
::-webkit-scrollbar-track:horizontal {
    background-color: var(--scrollbar-track-bg); /* 滑軌背景色 */
}

/* 設置橫向滾動條的寬度、顏色和樣式 */
.markdown-section table::-webkit-scrollbar {
    height: 8px;
}

/* 設置橫向滑塊的樣式 */
.markdown-section table::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    border-radius: 6px;
}

/* 設置橫向軌道的樣式 */
.markdown-section table::-webkit-scrollbar-track {
    background-color: var(--scrollbar-track-bg); /* 滑軌背景色 */
}

/* 回到最上方按鈕樣式 */
.back-to-top {
    background: var(--scrollbar-thumb-bg); /* 背景色 */
}

.back-to-top:hover {
    border: 1px solid var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    background: transparent;
    color: var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    cursor: pointer;
    transition: all 0.3s;
}

.back-to-top i:hover {
    border: 1px solid var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    color: var(--scrollbar-thumb-bg); /* 滑塊背景色 */
    background: transparent;
    cursor: pointer;
    transition: all 0.3s;
}

/* 右邊目錄樣式 */
.book-anchor {
    width: 230px;
    border-left: none;
}

.book-anchor-title {
    line-height: 38px;
    font-weight: 400;
    cursor: pointer;
    border-bottom: 1px solid var(--bg-color); /* 背景色 */
    margin-bottom: 10px;
    color: var(--text-color); /* 文字色 */
}

.book-summary {
    background: var(--bg-color) !important;
    color: var(--text-color) !important;
}

.book-header {
    background: var(--bg-color) !important;
}

.book-body {
    background: var(--bg-color) !important;
}

/* 左邊目錄樣式 */
.book-summary ul.summary li.active {
    border-radius: 8px;
    transition: all 0.3s;
    border: none;
    background: var(--summary-book-list-color) !important;/* 背景色 */
}

.book-summary ul.summary li:hover {
    color: var(--link-color) !important; /* 連結顏色 */
    cursor: pointer;
    transition: all 0.3s;
}

.book-summary ul.summary li a:hover {
    color: var(--link-color) !important; /* 連結顏色 */
    cursor: pointer;
    transition: all 0.3s;
}

.book-summary ul.summary li.active > a {
    color: var(--link-color) !important; /* 連結顏色 */
    text-decoration: none;
    transition: all 0.3s;
    border-left: 3px solid;
}

.book-summary ul.summary li a,
.book-summary ul.summary li span {
    color: #333 !important; /* 文字色 */
}

.book-anchor .selected {
    color: var(--link-color) !important; /* 連結顏色 */
    text-decoration: none;
    font-weight: bold;
}

.book-anchor a {
    color: var(--summary-text-color) !important;
}

.book-anchor a:hover {
    color: var(--link-color) !important; /* 連結顏色 */
    text-decoration: none;
}

.book-summary .read-indicator {
    display: inline-block;
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    border-radius: 50%;
    background: var(--bg-color) !important; /* 背景色 */
    color: var(--text-color) !important; /* 文字色 */
    font-size: 12px;
    font-weight: bold;
    margin-right: 10px;
    cursor: pointer;
    border: 1px solid var(--bg-color); /* 背景色 */
    opacity: 0.7;
}

.book-summary .read-indicator:hover {
    opacity: 1;
}

/* 程式名稱樣式 */
.code-filename {
    color: var(--text-color) !important;
}

.code-filename i {
    margin-right: 8px;
}

/* 搜索框樣式 */
#book-search-input {
    outline: none;
    border: 1px solid var(--search-input-border); /* 搜索框邊框顏色 */
    border-radius: 0.2em;
    padding: 8px 12px;
    width: 300px;
    background: var(--search-input-bg); /* 搜索框背景色 */
    color: var(--search-input-text); /* 搜索框文字色 */
}

#book-search-input:focus {
    border: 1px solid var(--link-color); /* 連結顏色 */
}

#book-search-input input,
#book-search-input input:focus,
#book-search-input input:hover {
    color: var(--link-color) !important;
}

.search-results .title {
    color: var(--title-color-1) !important; /* 標題顏色 */
}

.search-results .search-highlight {
    color: var(--highlight-color) !important; /* 強調文字顏色 */
    background-color: var(--bg-color); /* 背景色 */
}

.search-results p {
    color: var(--text-color) !important; /* 文字色 */
}

.header-inner #book-search-input {
    float: right;
    width: 300px;
    margin: 10px 0;
    padding: 0;
    border: 1px solid #e0e0e0;
    background: var(--btn-bg-color) !important;
    color: var(--text-color) !important; /* 文字色 */
    user-select: none;
}

/* 引言樣式 */
blockquote {
    border-left: 3px solid var(--quote-border); /* 引言框邊框顏色 */
    padding: 10px 20px;
    margin-left: 0px;
    background: var(--quote-bg); /* 引言框背景色 */
    color: var(--text-color); /* 文字色 */
}

/* 注腳樣式 */
.footnotes {
    color: var(--text-color) !important; /* 文字色 */
}

/* 分頁樣式 */
ul.pagination > li > a,
ul.pagination > li > span {
    color: var(--text-color); /* 文字色 */
}

/* 內頁樣式 */
.page-wrapper {
    background: var(--bg-color) !important;
}

/* 切換主題按鈕樣式 */
#theme-toggle {
    position: fixed;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px;  /* 可以根據需要調整按鈕的寬度 */
    height: 50px;  /* 可以根據需要調整按鈕的高度 */
    cursor: pointer;
    bottom: 20px;
    left: 310px !important;
    text-decoration: none;
    background-color: var(--highlight-color) !important;
    color: var(--btn-icon-color) !important;
    border: 1px solid var(--text-color);
    padding: 10px 20px;
    cursor: pointer;
    font-size: 24px;
    -webkit-border-radius: 35px;
    -moz-border-radius: 35px;
    border-radius: 35px;
}

#theme-toggle i {
    font-size: 20px;  /* 可以根據需要調整icon的大小 */
    color: var(--btn-icon-color);  /* 根據需要調整icon的顏色 */
}

#theme-toggle:hover {
    background-color: var(--btn-bg-hover) !important;
    color: var(--text-color) !important;
}

#theme-toggle i:hover {
    color: var(--text-color) !important;
}

/* 標籤、分類樣式 */
.tags-list a,
.categories-list a {
    background-color: var(--bg-color) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--text-color);
}

.tags-list a:hover,
.categories-list a:hover {
    background-color: var(--btn-bg-hover) !important;
    color: var(--btn-text-hover) !important;
    text-decoration: none;
}

.fa-tags,
.fa-folder-open {
    color: var(--text-color) !important;
}

/* gittalk留言版樣式 */
.gt-container .gt-comment-content {
    background-color: var(--bg-color) !important;
}

.gt-container .gt-comment-content:hover {
    box-shadow: none !important;
}

.gt-container .gt-user {
    color: var(--text-color) !important;
}

.gt-container .gt-counts {
    color: var(--text-color) !important;
}

/**
* 提示區塊樣式
*/
.markdown-section p {
    margin-top: revert;
}

.markdown-section ol,
.markdown-section ul {
    color: var(--text-color) !important;
}

.note {
    padding: 1em;
    margin-bottom: 1em;
}

.note.default h1,
.note.default h2,
.note.default h3,
.note.default h4,
.note.default h5,
.note.default h6 {
    color: var(--note-default-color); /* 提示顏色 */
    text-align: center;
}

.note.default {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-default-color);
    border-left: .25rem solid var(--note-default-color);
    border-radius: 3px;
    color: var(--note-default-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.primary h1,
.note.primary h2,
.note.primary h3,
.note.primary h4,
.note.primary h5,
.note.primary h6 {
    color: var(--note-primary-color); /* 提示顏色 */
    text-align: center;
}

.note.primary {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-primary-color);
    border-left: .25rem solid var(--note-primary-color);
    border-radius: 3px;
    color: var(--note-primary-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.info h1,
.note.info h2,
.note.info h3,
.note.info h4,
.note.info h5,
.note.info h6 {
    color: var(--note-info-color); /* 提示顏色 */
    text-align: center;
}

.note.info {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-info-color);
    border-left: .25rem solid var(--note-info-color);
    border-radius: 3px;
    color: var(--note-info-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.success h1,
.note.success h2,
.note.success h3,
.note.success h4,
.note.success h5,
.note.success h6 {
    color: var(--note-success-color); /* 提示顏色 */
    text-align: center;
}

.note.success {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-success-color);
    border-left: .25rem solid var(--note-success-color);
    border-radius: 3px;
    color: var(--note-success-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.warning h1,
.note.warning h2,
.note.warning h3,
.note.warning h4,
.note.warning h5,
.note.warning h6 {
    color: #ffd740; /* 提示顏色 */
    text-align: center;
}

.note.warning {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-warning-color);
    border-left: .25rem solid var(--note-warning-color);
    border-radius: 3px;
    color: var(--note-warning-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.danger h1,
.note.danger h2,
.note.danger h3,
.note.danger h4,
.note.danger h5,
.note.danger h6 {
    color: #ff5252; /* 提示顏色 */
    text-align: center;
}

.note.danger {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-danger-color);
    border-left: .25rem solid var(--note-danger-color);
    border-radius: 3px;
    color: var(--note-danger-color);
    padding: 10px 12px;
    margin: 12px 0;
}

.note.tip h1,
.note.tip h2,
.note.tip h3,
.note.tip h4,
.note.tip h5,
.note.tip h6 {
    color: var(--note-tip-color); /* 提示顏色 */
    text-align: center;
}

.note.tip {
    background-color: var(--note-bg-color);
    border: 1px solid var(--note-border-color);
    border-left-color: var(--note-tip-color);
    border-left: .25rem solid var(--note-tip-color);
    border-radius: 3px;
    color: var(--note-tip-color);
    padding: 10px 12px;
    margin: 12px 0;
}

/**
* 程式碼區塊樣式
*/
code[class*="language-"],
pre[class*="language-"] {
    background: hsl(230, 1%, 98%) !important;
    color: hsl(230, 8%, 24%) !important;
    font-family: "Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace;
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    line-height: 1.5;
    font-size: 1.2em;
    -moz-tab-size: 2;
    -o-tab-size: 2;
    tab-size: 2;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

code[class*="language-"]::-moz-selection,
code[class*="language-"] *::-moz-selection,
pre[class*="language-"] *::-moz-selection {
    background: hsl(230, 1%, 90%) !important;
    color: inherit !important;
}

code[class*="language-"]::selection,
code[class*="language-"] *::selection,
pre[class*="language-"] *::selection {
    background: hsl(230, 1%, 90%) !important;
    color: inherit !important;
}

/* Code blocks */
pre[class*="language-"] {
    padding: 1em;
    margin: 0.5em 0;
    overflow: auto;
    border-radius: 0.3em;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    padding: 0.2em 0.3em;
    border-radius: 0.3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.cdata {
    color: hsl(230, 4%, 64%) !important;
}

.token.doctype,
.token.punctuation,
.token.entity {
    color: hsl(230, 8%, 24%) !important;
}

.token.attr-name,
.token.class-name,
.token.boolean,
.token.constant,
.token.number,
.token.atrule {
    color: hsl(35, 99%, 36%) !important;
}

.token.keyword {
    color: hsl(301, 63%, 40%) !important;
}

.token.property,
.token.tag,
.token.symbol,
.token.deleted,
.token.important {
    color: hsl(5, 74%, 59%) !important;
}

.token.selector,
.token.string,
.token.char,
.token.builtin,
.token.inserted,
.token.regex,
.token.attr-value,
.token.attr-value > .token.punctuation {
    color: hsl(119, 34%, 47%) !important;
}

.token.variable,
.token.operator,
.token.function {
    color: hsl(221, 87%, 60%) !important;
}

.token.url {
    color: hsl(198, 99%, 37%) !important;
}

/* HTML overrides */
.token.attr-value > .token.punctuation.attr-equals,
.token.special-attr > .token.attr-value > .token.value.css {
    color: hsl(230, 8%, 24%) !important;
}

/* CSS overrides */
.language-css .token.selector {
    color: hsl(5, 74%, 59%) !important;
}

.language-css .token.property {
    color: hsl(230, 8%, 24%) !important;
}

.language-css .token.function,
.language-css .token.url > .token.function {
    color: hsl(198, 99%, 37%) !important;
}

.language-css .token.url > .token.string.url {
    color: hsl(119, 34%, 47%) !important;
}

.language-css .token.important,
.language-css .token.atrule .token.rule {
    color: hsl(301, 63%, 40%) !important;
}

/* JS overrides */
.language-javascript .token.operator {
    color: hsl(301, 63%, 40%) !important;
}

.language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation {
    color: hsl(344, 84%, 43%) !important;
}

/* JSON overrides */
.language-json .token.operator {
    color: hsl(230, 8%, 24%) !important;
}

.language-json .token.null.keyword {
    color: hsl(35, 99%, 36%) !important;
}

/* MD overrides */
.language-markdown .token.url,
.language-markdown .token.url > .token.operator,
.language-markdown .token.url-reference.url > .token.string {
    color: hsl(230, 8%, 24%) !important;
}

.language-markdown .token.url > .token.content {
    color: hsl(221, 87%, 60%) !important;
}

.language-markdown .token.url > .token.url,
.language-markdown .token.url-reference.url {
    color: hsl(198, 99%, 37%) !important;
}

.language-markdown .token.blockquote.punctuation,
.language-markdown .token.hr.punctuation {
    color: hsl(230, 4%, 64%) !important;
    font-style: italic;
}

.language-markdown .token.code-snippet {
    color: hsl(119, 34%, 47%) !important;
}

.language-markdown .token.bold .token.content {
    color: hsl(35, 99%, 36%) !important;
}

.language-markdown .token.italic .token.content {
    color: hsl(301, 63%, 40%) !important;
}

.language-markdown .token.strike .token.content,
.language-markdown .token.strike .token.punctuation,
.language-markdown .token.list.punctuation,
.language-markdown .token.title.important > .token.punctuation {
    color: hsl(5, 74%, 59% !important);
}

/* General */
.token.bold {
    font-weight: bold;
}

.token.comment,
.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}

.token.namespace {
    opacity: 0.8;
}

/* Plugin overrides */

/* Selectors should have higher specificity than those in the plugins' default stylesheets */

/* Show Invisibles plugin overrides */
.token.token.tab:not(:empty):before,.token.token.cr:before,.token.token.lf:before,.token.token.space:before {
    color: hsla(230, 8%, 24%, 0.2);
}

/* Toolbar plugin overrides */

/* Space out all buttons and move them away from the right edge of the code block */
div.code-toolbar > .toolbar.toolbar > .toolbar-item {
    margin-right: 0.4em;
}

/* Styling the buttons */
div.code-toolbar > .toolbar.toolbar > .toolbar-item > button,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > a,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > span {
    background: hsl(230, 1%, 90%);
    color: hsl(230, 6%, 44%);
    padding: 0.1em 0.4em;
    border-radius: 0.3em;
}

div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover,
div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus {
    background: hsl(230, 1%, 78%); /* custom: darken(--syntax-bg, 20%) */
    color: hsl(230, 8%, 24%);
}

/* Line Highlight plugin overrides */

/* The highlighted line itself */
.line-highlight.line-highlight {
    background: hsla(230, 8%, 24%, 0.05);
}

/* Default line numbers in Line Highlight plugin */
.line-highlight.line-highlight:before,
.line-highlight.line-highlight[data-end]:after {
    background: hsl(230, 1%, 90%);
    color: hsl(230, 8%, 24%);
    padding: 0.1em 0.6em;
    border-radius: 0.3em;
    box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.2); /* same as Toolbar plugin default */
}

/* Hovering over a linkable line number (in the gutter area) */

/* Requires Line Numbers plugin as well */
pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before {
    background-color: hsla(230, 8%, 24%, 0.05);
}

/* Line Numbers and Command Line plugins overrides */

/* Line separating gutter from coding area */
.line-numbers.line-numbers .line-numbers-rows,
.command-line .command-line-prompt {
    border-right-color: hsla(230, 8%, 24%, 0.2);
}

/* Stuff in the gutter */
.line-numbers .line-numbers-rows > span:before,
.command-line .command-line-prompt > span:before {
    color: hsl(230, 1%, 62%);
}

/* Match Braces plugin overrides */

/* Note: Outline colour is inherited from the braces */
.rainbow-braces .token.token.punctuation.brace-level-1,
.rainbow-braces .token.token.punctuation.brace-level-5,
.rainbow-braces .token.token.punctuation.brace-level-9 {
    color: hsl(5, 74%, 59%);
}

.rainbow-braces .token.token.punctuation.brace-level-2,
.rainbow-braces .token.token.punctuation.brace-level-6,
.rainbow-braces .token.token.punctuation.brace-level-10 {
    color: hsl(119, 34%, 47%);
}

.rainbow-braces .token.token.punctuation.brace-level-3,
.rainbow-braces .token.token.punctuation.brace-level-7,
.rainbow-braces .token.token.punctuation.brace-level-11 {
    color: hsl(221, 87%, 60%);
}

.rainbow-braces .token.token.punctuation.brace-level-4,
.rainbow-braces .token.token.punctuation.brace-level-8,
.rainbow-braces .token.token.punctuation.brace-level-12 {
    color: hsl(301, 63%, 40%);
}

/* Diff Highlight plugin overrides */

/* Taken from https://github.com/atom/github/blob/master/styles/variables.less */
pre.diff-highlight > code .token.token.deleted:not(.prefix),
pre > code.diff-highlight .token.token.deleted:not(.prefix) {
    background-color: hsla(353, 100%, 66%, 0.15);
}

pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection,
pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection,
pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection,
pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection {
    background-color: hsla(353, 95%, 66%, 0.25);
}

pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection,
pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection,
pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection,
pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection {
    background-color: hsla(353, 95%, 66%, 0.25);
}

pre.diff-highlight > code .token.token.inserted:not(.prefix),
pre > code.diff-highlight .token.token.inserted:not(.prefix) {
    background-color: hsla(137, 100%, 55%, 0.15);
}

pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection,
pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection,
pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection,
pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection {
    background-color: hsla(135, 73%, 55%, 0.25);
}

pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection,
pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection,
pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection,
pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection {
    background-color: hsla(135, 73%, 55%, 0.25);
}

/* Previewers plugin overrides */

/* Based on https://github.com/atom-community/atom-ide-datatip/blob/master/styles/atom-ide-datatips.less and https://github.com/atom/atom/blob/master/packages/one-light-ui */

/* Border around popup */
.prism-previewer.prism-previewer:before,
.prism-previewer-gradient.prism-previewer-gradient div {
    border-color: hsl(0, 0, 95%);
}

/* Angle and time should remain as circles and are hence not included */
.prism-previewer-color.prism-previewer-color:before,
.prism-previewer-gradient.prism-previewer-gradient div,
.prism-previewer-easing.prism-previewer-easing:before {
    border-radius: 0.3em;
}

/* Triangles pointing to the code */
.prism-previewer.prism-previewer:after {
    border-top-color: hsl(0, 0, 95%);
}

.prism-previewer-flipped.prism-previewer-flipped.after {
    border-bottom-color: hsl(0, 0, 95%);
}

/* Background colour within the popup */
.prism-previewer-angle.prism-previewer-angle:before,
.prism-previewer-time.prism-previewer-time:before,
.prism-previewer-easing.prism-previewer-easing {
    background: hsl(0, 0%, 100%);
}

/* For angle, this is the positive area (eg. 90deg will display one quadrant in this colour) */

/* For time, this is the alternate colour */
.prism-previewer-angle.prism-previewer-angle circle,
.prism-previewer-time.prism-previewer-time circle {
    stroke: hsl(230, 8%, 24%);
    stroke-opacity: 1;
}

/* Stroke colours of the handle, direction point, and vector itself */
.prism-previewer-easing.prism-previewer-easing circle,
.prism-previewer-easing.prism-previewer-easing path,
.prism-previewer-easing.prism-previewer-easing line {
    stroke: hsl(230, 8%, 24%);
}

/* Fill colour of the handle */
.prism-previewer-easing.prism-previewer-easing circle {
    fill: transparent;
}


```


 請在`_assert`目錄下撰寫`theme-toggle.js`


> [!note] 小提示 
> 記得要在book.json定義theme-mytest的參數喔，這樣執行時才會去抓不同環境的URL，可參考第5點

```javascript
function getBaseUrl() {
    const pluginConfig = gitbook.state.config.pluginsConfig['theme-mytest'];
    const currentEnvironment = pluginConfig.environment;
    return pluginConfig.environments[currentEnvironment].cssBaseUrl;
}

function applySavedTheme() {
    const themeStylesheet = document.getElementById('theme-stylesheet');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme && themeStylesheet) {
        themeStylesheet.setAttribute('href', `${getBaseUrl()}material-${savedTheme}-theme.css`);
    }
}

function setupThemeToggle() {
    const themeToggleButton = document.getElementById('theme-toggle');
    const themeStylesheet = document.getElementById('theme-stylesheet');

    if (!themeStylesheet) {
        console.error('Theme stylesheet link element not found.');
        return;
    }
    if (!themeToggleButton) {
        console.error('Theme toggle button not found.');
        return;
    }

    themeToggleButton.addEventListener('click', function () {
        const currentTheme = themeStylesheet.getAttribute('href');
        if (currentTheme.includes('material-dark-theme.css')) {
            themeStylesheet.setAttribute('href', `${getBaseUrl()}material-light-theme.css`);
            localStorage.setItem('theme', 'light');
        } else {
            themeStylesheet.setAttribute('href', `${getBaseUrl()}material-dark-theme.css`);
            localStorage.setItem('theme', 'dark');
        }
    });
}

function addStylesheet(href) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = href;
    link.id = 'theme-stylesheet';
    document.head.appendChild(link);
}

// Initial setup on page load
document.addEventListener('DOMContentLoaded', function () {
    const baseUrl = getBaseUrl();
    addStylesheet(`${baseUrl}material-light-theme.css`);  // Default theme
    applySavedTheme();
    setupThemeToggle();
});

// Re-apply setup on GitBook page change
gitbook.events.bind('page.change', function () {
    applySavedTheme();
    setupThemeToggle();
});

```


請在`_assert\_layouts\website\`目錄下更新page.html


> [!note] 小提示
> 1. 定義預設主題
> 2. 增加id為theme-toggle的button
> 3. 在按鈕之後增加theme-toggle.js


```html
{% extends template.self %}
{% block body %}
<link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css"
    rel="stylesheet"
/>
<!-- 默认主题样式 -->
    <link id="theme-stylesheet" rel="stylesheet" href="_assets/material-light-theme.css">
<div class="book">
	<div class="header-inner">
		<!-- LOGO -->
		<div class="logo"></div>
		<span class="title"></span>

		<!-- Search -->
		{% block search_input %}{% endblock %}

		<!-- Nav -->
		<ul class="header-nav">
			{% for nav in book.mytest.nav -%}
			<li>
				<a href="{{nav.url}}" target="{{ nav.target}}">{{ nav.name }}</a>
			</li>
			{%- endfor %}
		</ul>
	</div>

	<div class="book-summary">
		<div class="book-summary-title">我的筆記</div>
		{% block book_sidebar %}
		{% block book_summary %}
		<nav role="navigation">
			{% include "website/summary.html" %}
		</nav>
		{% endblock %}
		{% endblock %}
	</div>

	<!-- Content nav -->
	<div class="book-anchor">
		<div class="book-anchor-title">在我的筆記中:</div>
		<div class="book-anchor-body">

		</div>
	</div>

	<div class="book-body">
		{% block book_body %}
		<div class="body-inner">
			{% block book_inner %}
			{% include "website/header.html" %}

			<div class="page-wrapper" tabindex="-1" role="main">
				<div class="page-inner">
					{% block search_results %}
					<section class="normal markdown-section">
						{% block page %}
						{{ page.content|safe }}
						{% endblock %}
					<!-- 上 页和下 页按钮 -->
					
					<table>
						  <tr>
							<td>
							{% if page.previous and page.previous.path %}
						<div class="container-fluid-prev">
							
							<div class="flex-container">
								<div class="icon"><i class="ri-arrow-left-line"></i></div>
								<div class="text">Previous</div>
								
							</div>
							
							<div class="text2">
								<a href="{{ page.previous.path|resolveFile }}">{{ page.previous.title }}</a>
							</div>
						</div>
					{% endif %}
							
							</td>
							<td>
													{% if page.next and page.next.path %}
						<div class="container-fluid-next">
							
							<div class="flex-container">
								<div class="icon"><i class="ri-arrow-right-line"></i></div>
								<div class="text">Next</div>
								
							</div>
							
							<div class="text2">
								<a href="{{ page.next.path|resolveFile }}">{{ page.next.title }}</a>
							</div>				
						</div>
						{% endif %}
							</td>
						  </tr>
					</table>
					</section>
					{% endblock %}
                    
                     <!-- GitTalk 評論區域 -->
                      <div id="gitalk-container"></div>
                      <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
                      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
				</div>
			</div>
			{% endblock %}
		</div>

		{% block book_navigation %}
		{% endblock %}
		{% endblock %}
		
	</div>

	<script>
		var gitbook = gitbook || [];
		gitbook.push(function() {
			gitbook.page.hasChanged({{ template.getJSContext()|dump|safe }});
		});
	</script>
	<button id="theme-toggle"><i class="ri-paint-brush-fill"></i></button>
	 <!-- 在 DOM 元素之后加载 JavaScript 文件 -->
    <script src="_assets/theme-toggle.js"></script>
</div>
{% endblock %}

```



請在根目錄下撰寫`index.js`

```javascript
var fs = require('fs');
var path = require('path');

module.exports = {
    website: {
        assets: './_assets/',
        js: [
            'fexa.js',
            'theme-toggle.js'
        ],
        css: [
            'fexa.css',
            'material-dark-theme.css',
            'material-light-theme.css'
        ]
    },
    hooks: {
        finish: function () {
            var configOption = this.config.get('pluginsConfig')['theme-mytest'];
            var output = configOption ? (configOption.output || '_book') : '_book';
            var pathFile;

            // favicon
            pathFile = configOption && configOption.favicon;
            if (pathFile) {
                var faviconPath = path.join(process.cwd(), pathFile);
                var gitbookFaviconPath = path.join(process.cwd(), output, 'gitbook', 'images', 'favicon.ico');
                if (fs.existsSync(faviconPath)) {
                    fs.writeFileSync(gitbookFaviconPath, fs.readFileSync(faviconPath));
                }
            }

            // appleTouchIconPrecomposed152
            pathFile = configOption && configOption.appleTouchIconPrecomposed152;
            if (pathFile) {
                var appleTouchIconPrecomposed152 = path.join(process.cwd(), pathFile);
                var gitbookAppleTouchPath = path.join(process.cwd(), output, 'gitbook', 'images', 'apple-touch-icon-precomposed-152.png');
                if (fs.existsSync(appleTouchIconPrecomposed152)) {
                    fs.writeFileSync(gitbookAppleTouchPath, fs.readFileSync(appleTouchIconPrecomposed152));
                }
            }

            //logo
            pathFile = configOption && configOption.logo;
            if(pathFile){
                var logoPath = path.join(process.cwd(), pathFile);
                var pluginLogoPath = path.join(process.cwd(), output, 'gitbook','gitbook-plugin-theme-mytest',"logo.png");
                if (fs.existsSync(logoPath)) {
                    fs.writeFileSync(pluginLogoPath, fs.readFileSync(logoPath));
                }
            }
        }
    }
};

```


請在gitbook主目錄下更新`book.json`

```json
  "theme-mytest": {
        "environment": "production",
        "environments": {
            "development": {
                "cssBaseUrl": "http://localhost:4000/gitbook/gitbook-plugin-theme-mytest/"
            },
            "production": {
                "cssBaseUrl": "https://markweb.idv.tw:15001/gidlabprojectteam/gitlabpageforgitbook/gitbook/gitbook-plugin-theme-mytest/"
            }
        }
    }
```


請在gitbook主目錄下新增`styles\website.css`

```css
/* 左側目錄樣式 */
.book-anchor .selected {
    color: #518fc7;
    text-decoration: none;
    font-weight: bold;
}
.book-anchor a:hover{
	color: #518fc7;
    text-decoration: none;
}
.book-summary .read-indicator {
  display: inline-block;
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  border-radius: 50%;
  background-color: #4CAF50;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  margin-right: 5px;
  vertical-align: middle;
}

/* 已讀清單樣式 */
.book-summary .read-indicator:before {
  content: "✓";
}

.book-summary ul.summary li a,.book-summary ul.summary li span {
    display: inline-block !important;
}

.header-inner #book-search-input {
    float: right;
    width: 300px;
    margin: 10px 0;
    padding: 0;
    border: none;
    background: #518fc7;
    user-select: none;
}

.header-inner .header-nav li a.active {
    color: #518fc7;
}
.header-inner .header-nav li a:hover{
	border: 1px solid #518fc7;
    border-radius: 8px;
	color:#518fc7;
	cursor: pointer;
	padding: 8px 12px;
	transition: all 0.3s;
}
/* 程式碼名稱樣式 */
pre[class*="language-"] {
    margin: 0 !important;
}

hr.custom-divider {
    display: block !important;
    border: 1px solid #e0e0e0;
    margin: 20px 0;
}
.divider{
	display: block !important;
    border: 0.5px solid #eee;
    margin: 20px 0;
}


.gt-container .gt-comment-content {
    background-color: #f1f1f1 !important;
}

.markdown-body h3{
    color: #0f4c75 !important;
}
.markdown-body h4{
    color: #ff6f61 !important;
}
```


### 1.3.3. 完成結果

![](https://mybookstack.zeabur.app/uploads/images/gallery/2025-08/4f1f1ea5-202407241305640.png)

![](https://mybookstack.zeabur.app/uploads/images/gallery/2025-08/bbc80e81-202407241305683.png)